# canvas-sync

CLI to download (course files, videos, etc) & view (deadlines, events, announcements) from canvas

## Install

Brew:

```bash
brew install aidanaden/tools/canvas-sync
```

You can also download directly from the [releases](https://github.com/aidanaden/canvas-sync/releases) page

## Autocomplete

Add autocompletion for canvas-sync in your terminal:

### zsh

```bash
# add autocomplete to .zsh
echo "\n\nif type brew &>/dev/null
then
  FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"

  autoload -Uz compinit
  compinit
fi" >> ~/.zshrc
```

### bash

```bash
# if '~/.bash_profile' doesn't exist, replace with '~/.profile' 
echo "if type brew &>/dev/null
then
  HOMEBREW_PREFIX="$(brew --prefix)"
  if [[ -r "${HOMEBREW_PREFIX}/etc/profile.d/bash_completion.sh" ]]
  then
    source "${HOMEBREW_PREFIX}/etc/profile.d/bash_completion.sh"
  else
    for COMPLETION in "${HOMEBREW_PREFIX}/etc/bash_completion.d/"*
    do
      [[ -r "${COMPLETION}" ]] && source "${COMPLETION}"
    done
  fi
fi" >> ~/.bash_profile
```

### fish (not necessary if you installed fish via homebrew)

```bash
# if '~/.bash_profile' doesn't exist, replace with '~/.profile' 
echo "if test -d (brew --prefix)"/share/fish/completions"
    set -gx fish_complete_path $fish_complete_path (brew --prefix)/share/fish/completions
end

if test -d (brew --prefix)"/share/fish/vendor_completions.d"
    set -gx fish_complete_path $fish_complete_path (brew --prefix)/share/fish/vendor_completions.d
end" >> ~/.config/fish/config.fish
```

## Config

All configuration is done in the `$HOME/.canvas-sync/config.yaml` file.

3 values can be configured:

- `access_token`: token generated by the canvas user (you) to download from canvas directly, if not filled canvas-sync will prompt you to log in
- `data_dir`: directory to store downloaded canvas data, defaults to `$HOME/.canvas-sync/data`  
- `canvas_url`: URL of your target canvas site, defaults to `https://canvas.nus.edu.sg`

## Commands

### Pull

Downloads data (files, videos, etc) from canvas, overwrites all existing data

#### `pull files`

View documentation via `pull files -h`:

![pull files help](examples/pull_files_help.gif)

![pull files demo](examples/pull_files_all.gif)

#### `pull videos`

TBD!

### Update

Updates downloaded data (files, videos, etc) from canvas

#### `update files`

View documentation via `update files -h`:

![update files help](examples/update_files_help.gif)

![update files demo](examples/update_files_all.gif)

#### `update videos`

TBD!

### View

Display data from canvas (deadlines, events, announcements, etc)
